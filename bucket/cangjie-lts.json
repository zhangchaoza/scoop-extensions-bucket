{
    "version": "1.0.1",
    "description": "The Cangjie programming language LTS channel.",
    "homepage": "https://cangjie-lang.cn/en",
    "license": "Apache-2.0",
    "architecture": {
        "64bit": {
            "url": "https://cangjie-lang.cn/v1/files/auth/downLoad?nsId=142267&fileName=cangjie-sdk-windows-x64-1.0.1.zip&objectKey=68a6780fd1b22272d50f15ee#/cangjie-sdk-windows-x64-1.0.1.zip",
            "hash": "6ca763dabf1ee43fccc420f96a6ca827d5116dcbe0ef2a5c80869194124bcaa8"
        }
    },
    "extract_dir": "cangjie",
    "env_add_path": [
        "runtime\\lib\\windows_x86_64_llvm",
        "lib\\windows_x86_64_llvm",
        "bin",
        "tools\\bin",
        ".cjpm\\bin"
    ],
    "pre_install": [
        "if (Test-Path \"$Env:UserProfile\\.cjpm\\*\") {",
        "    if (Test-Path \"$persist_dir\\.cjpm\\*\") {",
        "        Remove-Item \"$persist_dir\\.cjpm\\*\" -Recurse -Force",
        "    }",
        "    Move-Item \"$Env:UserProfile\\.cjpm\\*\" \"$dir\\.cjpm\"",
        "    Remove-Item \"$dir\\.cjpm\\*\" -Recurse -Force",
        "}"
    ],
    "post_install": [
        "New-Item \"$persist_dir\\.cjpm\\bin\" -ItemType Directory -Force | Out-Null",
        "Write-Host \"$($env:USERPROFILE)\\.cjpm\" ==> \"$persist_dir\\.cjpm\\\"",
        "New-Item -ItemType SymbolicLink -Path \"$($env:USERPROFILE)\\.cjpm\" -Value \"$persist_dir\\.cjpm\\\""
    ],
    "pre_uninstall": [
        "Remove-Item \"$($env:USERPROFILE)\\.cjpm\"",
        "if (Test-Path \"$Env:UserProfile\\.cjpm\\*\") {",
        "    Remove-Item \"$dir\\.cjpm\\*\" -Recurse -Force",
        "    Move-Item \"$Env:UserProfile\\.cjpm\\*\" \"$dir\\.cjpm\"",
        "}"
    ],
    "env_set": {
        "CANGJIE_HOME": "$dir"
    },
    "persist": [
        ".cjpm"
    ]
}
