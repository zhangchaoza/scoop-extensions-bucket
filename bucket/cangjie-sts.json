{
    "version": "0.53.18",
    "description": "The Cangjie programming language STS channel.",
    "homepage": "https://cangjie-lang.cn/en",
    "license": "Apache-2.0",
    "architecture": {
        "64bit": {
            "url": "https://cangjie-lang.cn/v1/files/auth/downLoad?nsId=142267&fileName=Cangjie-0.53.18-windows_x64.zip&objectKey=67a2c8a26a75297d1cdc1d4e#/Cangjie-0.53.18-windows_x64.zip",
            "hash": "74080EFA705212C4E494A8C18D40293BED9CE3020EEC357C6A288FA6E6B4D379"
        }
    },
    "extract_dir": "cangjie",
    "env_add_path": [
        "runtime\\lib\\windows_x86_64_llvm",
        "lib\\windows_x86_64_llvm",
        "bin",
        "tools\\bin",
        ".cjpm\\bin"
    ],
    "pre_install": [
        "if (Test-Path \"$Env:UserProfile\\.cjpm\\*\") {",
        "    if (Test-Path \"$persist_dir\\.cjpm\\*\") {",
        "        Remove-Item \"$persist_dir\\.cjpm\\*\" -Recurse -Force",
        "    }",
        "    Move-Item \"$Env:UserProfile\\.cjpm\\*\" \"$dir\\.cjpm\"",
        "    Remove-Item \"$dir\\.cjpm\\*\" -Recurse -Force",
        "}"
    ],
    "post_install": [
        "New-Item \"$persist_dir\\.cjpm\\bin\" -ItemType Directory -Force | Out-Null",
        "Write-Host \"$($env:USERPROFILE)\\.cjpm\" ==> \"$persist_dir\\.cjpm\\\"",
        "New-Item -ItemType SymbolicLink -Path \"$($env:USERPROFILE)\\.cjpm\" -Value \"$persist_dir\\.cjpm\\\""
    ],
    "pre_uninstall": [
        "Remove-Item \"$($env:USERPROFILE)\\.cjpm\"",
        "if (Test-Path \"$Env:UserProfile\\.cjpm\\*\") {",
        "    Remove-Item \"$dir\\.cjpm\\*\" -Recurse -Force",
        "    Move-Item \"$Env:UserProfile\\.cjpm\\*\" \"$dir\\.cjpm\"",
        "}"
    ],
    "env_set": {
        "CANGJIE_HOME": "$dir"
    },
    "persist": [
        ".cjpm"
    ]
}
